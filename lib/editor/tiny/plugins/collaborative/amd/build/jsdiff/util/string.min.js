define("tiny_collaborative/jsdiff/util/string",["exports"],(function(_exports){function replacePrefix(string,oldPrefix,newPrefix){if(string.slice(0,oldPrefix.length)!=oldPrefix)throw Error(`string ${JSON.stringify(string)} doesn't start with prefix ${JSON.stringify(oldPrefix)}; this is a bug`);return newPrefix+string.slice(oldPrefix.length)}function replaceSuffix(string,oldSuffix,newSuffix){if(!oldSuffix)return string+newSuffix;if(string.slice(-oldSuffix.length)!=oldSuffix)throw Error(`string ${JSON.stringify(string)} doesn't end with suffix ${JSON.stringify(oldSuffix)}; this is a bug`);return string.slice(0,-oldSuffix.length)+newSuffix}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.hasOnlyUnixLineEndings=function(string){return!string.includes("\r\n")&&string.includes("\n")},_exports.hasOnlyWinLineEndings=function(string){return string.includes("\r\n")&&!string.startsWith("\n")&&!string.match(/[^\r]\n/)},_exports.longestCommonPrefix=function(str1,str2){let i;for(i=0;i<str1.length&&i<str2.length;i++)if(str1[i]!=str2[i])return str1.slice(0,i);return str1.slice(0,i)},_exports.longestCommonSuffix=function(str1,str2){let i;if(!str1||!str2||str1[str1.length-1]!=str2[str2.length-1])return"";for(i=0;i<str1.length&&i<str2.length;i++)if(str1[str1.length-(i+1)]!=str2[str2.length-(i+1)])return str1.slice(-i);return str1.slice(-i)},_exports.maximumOverlap=function(string1,string2){return string2.slice(0,function(a,b){let startA=0;a.length>b.length&&(startA=a.length-b.length);let endB=b.length;a.length<b.length&&(endB=a.length);let map=Array(endB),k=0;map[0]=0;for(let j=1;j<endB;j++){for(b[j]==b[k]?map[j]=map[k]:map[j]=k;k>0&&b[j]!=b[k];)k=map[k];b[j]==b[k]&&k++}k=0;for(let i=startA;i<a.length;i++){for(;k>0&&a[i]!=b[k];)k=map[k];a[i]==b[k]&&k++}return k}(string1,string2))},_exports.removePrefix=function(string,oldPrefix){return replacePrefix(string,oldPrefix,"")},_exports.removeSuffix=function(string,oldSuffix){return replaceSuffix(string,oldSuffix,"")},_exports.replacePrefix=replacePrefix,_exports.replaceSuffix=replaceSuffix}));

//# sourceMappingURL=string.min.js.map